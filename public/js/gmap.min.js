function getRoute(){var e=new google.maps.LatLng(13.7251097,100.3529072),t={zoom:7,center:e};map=new google.maps.Map(document.getElementById("dvMap"),t),directionsDisplay.setMap(map),source=document.getElementById("txtSource").value,destination=document.getElementById("txtDestination").value;var n={origin:source,destination:destination,travelMode:google.maps.TravelMode.DRIVING};directionsService.route(n,function(e,t){t==google.maps.DirectionsStatus.OK&&directionsDisplay.setDirections(e)});var o=new google.maps.DistanceMatrixService;o.getDistanceMatrix({origins:[source],destinations:[destination],travelMode:google.maps.TravelMode.DRIVING,unitSystem:google.maps.UnitSystem.METRIC,avoidHighways:!1,avoidTolls:!1},function(e,t){if(t==google.maps.DistanceMatrixStatus.OK&&"ZERO_RESULTS"!=e.rows[0].elements[0].status){var n=e.rows[0].elements[0].distance.text,o=(e.rows[0].elements[0].duration.text,document.getElementById("dvDistance")),i=document.getElementById("distance_price").value*parseInt(n),a=document.getElementById("weight_price").value*document.getElementById("weight").value,s=i+a;o.innerHTML="",o.innerHTML+="ระยะทาง: "+n+"<br />",o.innerHTML+="อัตรค่าบริการต่อระยะทาง "+i+" บาท <br/>",o.innerHTML+="อัตรค่าบริการต่อน้ำหนัก "+a+" บาท <br/>",o.innerHTML+="รวมค่าใช้จ่าย "+s+" บาท"}else alert("Unable to find the distance via road.")})}var source,destination,directionsDisplay,directionsService=new google.maps.DirectionsService;google.maps.event.addDomListener(window,"load",function(){new google.maps.places.SearchBox(document.getElementById("txtSource")),new google.maps.places.SearchBox(document.getElementById("txtDestination")),directionsDisplay=new google.maps.DirectionsRenderer({draggable:!0})});